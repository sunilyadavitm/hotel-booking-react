{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Downloads\\\\hotel-booking-react\\\\src\\\\component\\\\payment\\\\PaymentForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { id } from \"react-day-picker/locale\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentForm = ({\n  clientSecrete,\n  amount,\n  onPaymentSuccess,\n  onPaymentError\n}) => {\n  _s();\n  const stripe = useStripe();\n  const element = useElements();\n  const [error, setError] = useState(null);\n  const [succeeded, setSucceeded] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!stripe || !element || processing) return;\n    setProcessing(true); //disable submit button\n\n    const {\n      error,\n      paymentIntent\n    } = await stripe.confirmCardPayment(clientSecrete, {\n      payment_method: {\n        card: element.getElement(CardElement)\n      }\n    });\n    console.log(\"PAYMENT IS: \" + paymentIntent);\n    if (error) {\n      setError(error.message);\n      setProcessing(false);\n      onPaymentError(error.message);\n      console.log(\"Error insdie  PaymentForm is: \" + error);\n    } else if (paymentIntent.status === \"succeeded\") {\n      console.log(\"PaymentForm is successful: \" + paymentIntent);\n      setSucceeded(true);\n      setProcessing(false);\n      onPaymentSuccess(paymentIntent.id); //notifyb the parent component of a sucessful transaction\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Complete Your Payment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"amount-display\",\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"Amount to Pay: $\", parseFloat(amount).toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-element-container\",\n        children: /*#__PURE__*/_jsxDEV(CardElement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"payment-button\",\n        disabled: processing || !stripe,\n        type: \"submit\",\n        children: processing ? \"Processing...\" : \"Pay Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 23\n    }, this), succeeded && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"success-message\",\n      children: \"Payment Succeeded: Thank you for your booking.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(PaymentForm, \"qdStyH+DvKQcmC/b+jEmlI2cgJc=\", false, function () {\n  return [useStripe, useElements];\n});\n_c = PaymentForm;\nexport default PaymentForm;\nvar _c;\n$RefreshReg$(_c, \"PaymentForm\");","map":{"version":3,"names":["useState","CardElement","useStripe","useElements","id","jsxDEV","_jsxDEV","PaymentForm","clientSecrete","amount","onPaymentSuccess","onPaymentError","_s","stripe","element","error","setError","succeeded","setSucceeded","processing","setProcessing","handleSubmit","event","preventDefault","paymentIntent","confirmCardPayment","payment_method","card","getElement","console","log","message","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","parseFloat","toFixed","onSubmit","disabled","type","_c","$RefreshReg$"],"sources":["C:/Users/pc/Downloads/hotel-booking-react/src/component/payment/PaymentForm.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { id } from \"react-day-picker/locale\";\n\n\nconst PaymentForm = ({clientSecrete, amount, onPaymentSuccess, onPaymentError}) => {\n    const stripe = useStripe();\n    const element = useElements()\n\n    const [error, setError] = useState(null)\n    const [succeeded, setSucceeded] = useState(false)\n    const [processing, setProcessing] = useState(false)\n\n\n    const handleSubmit = async (event) => {\n        event.preventDefault()\n\n        if(!stripe || !element || processing) return;\n\n        setProcessing(true) //disable submit button\n\n        const {error, paymentIntent} = await stripe.confirmCardPayment(clientSecrete, {\n            payment_method: {\n                card: element.getElement(CardElement)\n            },\n        });\n        console.log(\"PAYMENT IS: \" + paymentIntent);\n\n        if (error) {\n            setError(error.message)\n            setProcessing(false)\n            onPaymentError(error.message)\n\n            console.log(\"Error insdie  PaymentForm is: \" + error);\n        }else if(paymentIntent.status === \"succeeded\"){\n\n            console.log(\"PaymentForm is successful: \" + paymentIntent);\n            setSucceeded(true)\n            setProcessing(false)\n            onPaymentSuccess(paymentIntent.id) //notifyb the parent component of a sucessful transaction\n        }\n\n    }\n\n    return(\n        <div className=\"payment-form\">\n            <h3>Complete Your Payment</h3>\n            <div className=\"amount-display\">\n                <strong>Amount to Pay: ${parseFloat(amount).toFixed(2)}</strong>\n            </div>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"card-element-container\">\n                    <CardElement/>\n                </div>\n\n                <button className=\"payment-button\" disabled={processing || !stripe} type=\"submit\">\n                    {processing ? \"Processing...\" : \"Pay Now\"}\n                </button>\n            </form>\n\n            {error && <p className=\"error-message\">{error}</p>}\n            {succeeded && <p className=\"success-message\">Payment Succeeded: Thank you for your booking.</p>}\n        </div>\n    )\n\n\n}\n\nexport default PaymentForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}